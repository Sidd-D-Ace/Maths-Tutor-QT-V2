# language/language.py
import os

selected_language = "English"

CONFIG_FILE = "selected_lang.txt"

def save_selected_language_to_file(lang):
    print("save to file function called")
    with open(CONFIG_FILE, "w", encoding="utf-8") as f:
        f.write(lang)

def get_saved_language():
    if os.path.exists(CONFIG_FILE):
        with open(CONFIG_FILE, "r", encoding="utf-8") as f:
            return f.read().strip()
    return None

def set_language(lang):
    global selected_language
    selected_language = lang

def clear_remember_language():
    if os.path.exists(CONFIG_FILE):
        os.remove(CONFIG_FILE)

translations = {
    "English": {
        "welcome": "Welcome to Maths Tutor!",
        "ready": "Ready to learn in {lang}!",
        "Story": "Story",
        "Time": "Time",
        "Currency": "Currency",
        "Distance": "Distance",
        "Bellring": "Bellring",
        "Operations": "Operations",
        "Upload": "Upload",
        "Help": "Help",
        "About": "About",
        "Settings": "Settings",
        "Addition": "Addition",
        "Subtraction": "Subtraction",
        "Multiplication": "Multiplication",
        "Division": "Division",
        "Remainder": "Remainder",
        "Percentage": "Percentage",
        "Back to Home": "Back to Home",
        "Back to Operations": "Back to Operations",
        "select_language": "Select your preferred language:",
        "remember": "Remember my selection",
        "continue": "Continue",
        "cancel": "Cancel",
        "Choose an Operation": "Choose an Operation",
        "Enter your answer": "Enter your answer",
        "Back to Menu": "Back to Menu",
        "Answer": "Answer",
        "Question": "Question",
        "Answer input": "Answer input",
        "Type your answer as a number and press Enter.": "Type your answer as a number and press Enter.",
        "Choose Mode": "Choose Mode",
        "тЪбQuickplay": "тЪбQuickplay",
        "ЁЯОо Game Mode": "ЁЯОо Game Mode",
        "ЁЯОУ Learning Mode": "ЁЯОУ Learning Mode",
        "Select Game Difficulty": "Select Game Difficulty",
        "Choose your challenge level": "Choose your challenge level",
        "Easy": "Easy",
        "Medium": "Medium",
        "Hard": "Hard",
        "Extra Hard": "Extra Hard",
        "Start Quiz": "Start Quiz",
        "Click below to start the quiz": "Click below to start the quiz",
        "Reset Language": "Reset Language",
        "Select Difficulty:": "Select Difficulty:",
        "Exit Application": "Exit Application",
        "Are you sure you want to exit?": "Are you sure you want to exit?"
    },
    "р┤ор┤▓р┤пр┤╛р┤│р┤В": {
        "welcome": "р┤ор┤╛р┤др╡НтАМр┤╕р╡Н р┤Яр╡Нр┤пр╡Вр┤Яр╡Нр┤Яр┤▒р┤┐р┤▓р╡Зр┤Хр╡Нр┤Хр╡Н р┤╕р╡Нр┤╡р┤╛р┤Чр┤др┤В!",
        "ready": "{lang} р┤нр┤╛р┤╖р┤пр┤┐р╡╜ р┤кр┤ар┤┐р┤Хр╡Нр┤Хр┤╛р╡╗ р┤др┤пр╡Нр┤пр┤╛р┤▒р┤╛р┤гр╡Л?",
        "Story": "р┤Хр┤е",
        "Time": "р┤╕р┤ор┤пр┤В",
        "Currency": "р┤Хр┤▒р╡╗р┤╕р┤┐",
        "Distance": "р┤жр╡Вр┤░р┤В",
        "Bellring": "р┤мр╡Жр╡╜ р┤▒р┤┐р┤Вр┤Чр╡Н",
        "Operations": "р┤Чр┤гр┤┐р┤др┤Хр╡Нр┤░р┤┐р┤пр┤Хр╡╛",
        "Upload": "р┤Ер┤кр╡НтАМр┤▓р╡Лр┤бр╡Н р┤Ър╡Жр┤пр╡Нр┤пр╡Бр┤Х",
        "Help": "р┤╕р┤╣р┤╛р┤пр┤В",
        "About": "р┤╡р┤┐р┤╡р┤░р┤Щр╡Нр┤Щр╡╛",
        "Settings": "р┤Хр╡Нр┤░р┤ор╡Ар┤Хр┤░р┤гр┤Щр╡Нр┤Щр╡╛",
        "Addition": "р┤╕р┤Щр╡Нр┤Хр┤▓р┤ир┤В",
        "Subtraction": "р┤╡р╡Нр┤пр┤╡р┤Хр┤▓р┤ир┤В",
        "Multiplication": "р┤Чр╡Бр┤гр┤ир┤В",
        "Division": "р┤╣р┤░р┤гр┤В",
        "Remainder": "р┤╢р┤┐р┤╖р╡Нр┤Яр┤В",
        "Percentage": "р┤╢р┤др┤ор┤╛р┤ир┤В",
        "Back to Home": "р┤др╡Бр┤Яр┤Хр╡Нр┤Хр┤др╡Нр┤др┤┐р┤▓р╡Зр┤Хр╡Нр┤Хр╡Н р┤ор┤Яр┤Щр╡Нр┤Щр╡Бр┤Х",
        "Back to Operations": "р┤Ур┤кр╡Нр┤кр┤▒р╡Зр┤╖р┤ир╡Бр┤Хр┤│р┤┐р┤▓р╡Зр┤Хр╡Нр┤Хр╡Н р┤ор┤Яр┤Щр╡Нр┤Щр╡Бр┤Х",
        "select_language": "р┤ир┤┐р┤Щр╡Нр┤Щр┤│р╡Бр┤Яр╡Ж р┤Зр┤╖р╡Нр┤Яр┤кр╡Нр┤кр╡Жр┤Яр╡Нр┤Я р┤нр┤╛р┤╖ р┤др┤┐р┤░р┤Юр╡Нр┤Юр╡Жр┤Яр╡Бр┤Хр╡Нр┤Хр╡Бр┤Х:",
        "remember": "р┤Ор┤ир╡Нр┤▒р╡Ж р┤др┤┐р┤░р┤Юр╡Нр┤Юр╡Жр┤Яр╡Бр┤кр╡Нр┤кр╡Н р┤Ур╡╝р┤Хр╡Нр┤Хр╡Бр┤Х",
        "continue": "р┤др╡Бр┤Яр┤░р╡Бр┤Х",
        "cancel": "р┤▒р┤жр╡Нр┤жр┤╛р┤Хр╡Нр┤Хр╡Бр┤Х",
        "Choose an Operation": "р┤Тр┤░р╡Б р┤Чр┤гр┤┐р┤д р┤кр╡Нр┤░р┤╡р╡╝р┤др╡Нр┤др┤ир┤В р┤др┤┐р┤░р┤Юр╡Нр┤Юр╡Жр┤Яр╡Бр┤Хр╡Нр┤Хр╡В",
        "Enter your answer": "р┤ир┤┐р┤Щр╡Нр┤Щр┤│р╡Бр┤Яр╡Ж р┤Йр┤др╡Нр┤др┤░р┤ор┤┐р┤Яр╡Бр┤Х",
        "Back to Menu": "р┤ор╡Жр┤ир╡Бр┤╡р┤┐р┤▓р╡Зр┤Хр╡Нр┤Хр╡Н р┤ор┤Яр┤Щр╡Нр┤Щр╡Бр┤Х",
        "Answer": "р┤Йр┤др╡Нр┤др┤░р┤В",
        "Question": "р┤Ър╡Лр┤жр╡Нр┤пр┤В",
        "Answer input": "р┤Йр┤др╡Нр┤др┤░ р┤Зр╡╗р┤кр╡Бр┤Яр╡Нр┤Яр╡Н",
        "Type your answer as a number and press Enter.": "р┤ир┤┐р┤Щр╡Нр┤Щр┤│р╡Бр┤Яр╡Ж р┤Йр┤др╡Нр┤др┤░р┤В р┤Тр┤░р╡Б р┤ир┤ор╡Нр┤кр┤░р┤╛р┤пр┤┐ р┤Яр╡Ир┤кр╡Нр┤кр╡Н р┤Ър╡Жр┤пр╡Нр┤др╡Н Enter р┤Ер┤ор╡╝р┤др╡Нр┤др╡Бр┤Х."
    },
    "рд╣рд┐рдВрджреА": {
        "welcome": "рдореИрдереНрд╕ рдЯреНрдпреВрдЯрд░ рдореЗрдВ рдЖрдкрдХрд╛ рд╕реНрд╡рд╛рдЧрдд рд╣реИ!",
        "ready": "{lang} рдореЗрдВ рд╕реАрдЦрдиреЗ рдХреЗ рд▓рд┐рдП рддреИрдпрд╛рд░ рд╣реИрдВ?",
        "Story": "рдХрд╣рд╛рдиреА",
        "Time": "рд╕рдордп",
        "Currency": "рдореБрджреНрд░рд╛",
        "Distance": "рджреВрд░реА",
        "Bellring": "рдШрдВрдЯреА",
        "Operations": "рдЧрдгрд┐рдд рдХреНрд░рд┐рдпрд╛рдПрдБ",
        "Upload": "рдЕрдкрд▓реЛрдб рдХрд░реЗрдВ",
        "Help": "рдорджрдж",
        "About": "рдкрд░рд┐рдЪрдп",
        "Settings": "рд╕реЗрдЯрд┐рдВрдЧреНрд╕",
        "Addition": "рдЬреЛрдбрд╝",
        "Subtraction": "рдШрдЯрд╛рд╡",
        "Multiplication": "рдЧреБрдгрд╛",
        "Division": "рднрд╛рдЧ",
        "Remainder": "рд╢реЗрд╖рдлрд▓",
        "Percentage": "рдкреНрд░рддрд┐рд╢рдд",
        "Back to Home": "рдореБрдЦрдкреГрд╖реНрда рдкрд░ рд╡рд╛рдкрд╕ рдЬрд╛рдПрдВ",
        "Back to Operations": "рдСрдкрд░реЗрд╢рдиреНрд╕ рдкрд░ рд╡рд╛рдкрд╕ рдЬрд╛рдПрдВ",
        "select_language": "рдЕрдкрдиреА рдкрд╕рдВрджреАрджрд╛ рднрд╛рд╖рд╛ рдЪреБрдиреЗрдВ:",
        "remember": "рдореЗрд░реА рдкрд╕рдВрдж рдпрд╛рдж рд░рдЦреЗрдВ",
        "continue": "рдЬрд╛рд░реА рд░рдЦреЗрдВ",
        "cancel": "рд░рджреНрдж рдХрд░реЗрдВ",
        "Choose an Operation": "рдПрдХ рдЧрдгрд┐рддреАрдп рдХреНрд░рд┐рдпрд╛ рдЪреБрдиреЗрдВ",
        "Enter your answer": "рдЕрдкрдирд╛ рдЙрддреНрддрд░ рджрд░реНрдЬ рдХрд░реЗрдВ",
        "Back to Menu": "рдореЗрдиреВ рдкрд░ рд╡рд╛рдкрд╕ рдЬрд╛рдПрдВ",
        "Answer": "рдЙрддреНрддрд░",
        "Question": "рдкреНрд░рд╢реНрди",
        "Answer input": "рдЙрддреНрддрд░ рдЗрдирдкреБрдЯ",
        "Type your answer as a number and press Enter.": "рдЕрдкрдирд╛ рдЙрддреНрддрд░ рдПрдХ рд╕рдВрдЦреНрдпрд╛ рдХреЗ рд░реВрдк рдореЗрдВ рдЯрд╛рдЗрдк рдХрд░реЗрдВ рдФрд░ Enter рджрдмрд╛рдПрдВред",
        "Choose Mode": "рдореЛрдб рдЪреБрдиреЗрдВ",
        "тЪбQuickplay": "тЪбрддреНрд╡рд░рд┐рдд рдЦреЗрд▓",
        "ЁЯОо Game Mode": "ЁЯОо рдЧреЗрдо рдореЛрдб",
        "ЁЯОУ Learning Mode": "ЁЯОУ рд╕реАрдЦрдиреЗ рдХрд╛ рдореЛрдб",
        "Select Game Difficulty": "рдЧреЗрдо рдХреА рдХрдард┐рдирд╛рдИ рдЪреБрдиреЗрдВ",
        "Choose your challenge level": "рдЕрдкрдиреА рдЪреБрдиреМрддреА рдХрд╛ рд╕реНрддрд░ рдЪреБрдиреЗрдВ",
        "Easy": "рдЖрд╕рд╛рди",
        "Medium": "рдордзреНрдпрдо",
        "Hard": "рдХрдард┐рди",
        "Extra Hard": "рдмрд╣реБрдд рдХрдард┐рди",
        "Start Quiz": "рдХреНрд╡рд┐рдЬрд╝ рд╢реБрд░реВ рдХрд░реЗрдВ",
        "Click below to start the quiz": "рдХреНрд╡рд┐рдЬрд╝ рд╢реБрд░реВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдиреАрдЪреЗ рдХреНрд▓рд┐рдХ рдХрд░реЗрдВ",
        "Reset Language": "рднрд╛рд╖рд╛ рд░реАрд╕реЗрдЯ рдХрд░реЗрдВ",
        "Select Difficulty:": "рдХрдард┐рдирд╛рдИ рдЪреБрдиреЗрдВ:",
        "Exit Application": "рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдмрдВрдж рдХрд░реЗрдВ",
        "Are you sure you want to exit?": "рдХреНрдпрд╛ рдЖрдк рд╡рд╛рдХрдИ рдмрд╛рд╣рд░ рдирд┐рдХрд▓рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ?"
    },
    "родрооро┐ро┤рпН": {
        "welcome": "рооро╛родрпНродрпНро╕рпН роЯрпВроЯрпНроЯро░рпБроХрпНроХрпБ ро╡ро░ро╡рпЗро▒рпНроХро┐ро▒рпЛроорпН!",
        "ready": "{lang} роорпКро┤ро┐ропро┐ро▓рпН роХро▒рпНроХ родропро╛ро░рпН?",
        "Story": "роХродрпИ",
        "Time": "роирпЗро░роорпН",
        "Currency": "роиро╛рогропроорпН",
        "Distance": "родрпВро░роорпН",
        "Bellring": "роорогро┐ропро┤рпБродрпНродроорпН",
        "Operations": "роХрогро┐родроЪрпН роЪрпЖропро▓рпНроХро│рпН",
        "Upload": "рокродро┐ро╡рпЗро▒рпНро▒рпБ",
        "Help": "роЙродро╡ро┐",
        "About": "рокро▒рпНро▒ро┐",
        "Settings": "роЕроорпИрокрпНрокрпБроХро│рпН",
        "Addition": "роХрпВроЯрпНроЯро▓рпН",
        "Subtraction": "роХро┤ро┐родрпНродро▓рпН",
        "Multiplication": "рокрпЖро░рпБроХрпНроХро▓рпН",
        "Division": "ро╡роХрпБродрпНродро▓рпН",
        "Remainder": "роорпАродроорпБро│рпНро│ро╡рпИ",
        "Percentage": "роЪродро╡рпАродроорпН",
        "Back to Home": "роорпБроХрокрпНрокрпБроХрпНроХрпБ родро┐ро░рпБроорпНрокрпБ",
        "Back to Operations": "роЪрпЖропро▓рпНрокро╛роЯрпБроХро│рпБроХрпНроХрпБ родро┐ро░рпБроорпНрокрпБ",
        "select_language": "ро╡ро┐ро░рпБрокрпНрокрооро╛рой роорпКро┤ро┐ропрпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН:",
        "remember": "роОройрпН родрпЗро░рпНро╡рпИ роиро┐ройрпИро╡ро┐ро▓рпН роХрпКро│рпНро│ро╡рпБроорпН",
        "continue": "родрпКроЯро░ро╡рпБроорпН",
        "cancel": "ро░родрпНродрпБ роЪрпЖропрпН",
        "Choose an Operation": "роТро░рпБ роХрогро┐родроЪрпН роЪрпЖропро▓рпИродрпН родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН",
        "Enter your answer": "роЙроЩрпНроХро│рпН рокродро┐ро▓рпИ роЙро│рпНро│ро┐роЯрпБроЩрпНроХро│рпН",
        "Back to Menu": "роорпЖройрпБро╡рпБроХрпНроХрпБ родро┐ро░рпБроорпНрокрпБ",
        "Answer": "рокродро┐ро▓рпН",
        "Question": "роХрпЗро│рпНро╡ро┐",
        "Answer input": "рокродро┐ро▓рпН роЙро│рпНро│рпАроЯрпБ",
        "Type your answer as a number and press Enter.": "роЙроЩрпНроХро│рпН рокродро┐ро▓рпИ роТро░рпБ роОрогрпНрогро╛роХ родроЯрпНроЯроЪрпНроЪрпБ роЪрпЖропрпНродрпБ Enter роЕроорпБроХрпНроХро╡рпБроорпН."
    },
    "╪╣╪▒╪и┘К": {
        "welcome": "┘Е╪▒╪н╪и┘Л╪з ╪и┘Г ┘Б┘К ┘Е╪╣┘Д┘Е ╪з┘Д╪▒┘К╪з╪╢┘К╪з╪к!",
        "ready": "┘З┘Д ╪г┘Ж╪к ┘Е╪│╪к╪╣╪п ┘Д┘Д╪к╪╣┘Д┘Е ╪и┘А{lang}╪Я",
        "Story": "┘В╪╡╪й",
        "Time": "╪з┘Д┘И┘В╪к",
        "Currency": "╪з┘Д╪╣┘Е┘Д╪й",
        "Distance": "╪з┘Д┘Е╪│╪з┘Б╪й",
        "Bellring": "╪▒┘Ж┘К┘Ж ╪з┘Д╪м╪▒╪│",
        "Operations": "╪з┘Д╪╣┘Е┘Д┘К╪з╪к",
        "Upload": "╪к╪н┘Е┘К┘Д",
        "Help": "┘Е╪│╪з╪╣╪п╪й",
        "About": "╪н┘И┘Д",
        "Settings": "╪з┘Д╪е╪╣╪п╪з╪п╪з╪к",
        "Addition": "╪м┘Е╪╣",
        "Subtraction": "╪╖╪▒╪н",
        "Multiplication": "╪╢╪▒╪и",
        "Division": "┘В╪│┘Е╪й",
        "Remainder": "╪з┘Д╪и╪з┘В┘К",
        "Percentage": "╪з┘Д┘Ж╪│╪и╪й ╪з┘Д┘Е╪ж┘И┘К╪й",
        "Back to Home": "╪з┘Д╪╣┘И╪п╪й ╪е┘Д┘Й ╪з┘Д╪▒╪ж┘К╪│┘К╪й",
        "Back to Operations": "╪з┘Д╪╣┘И╪п╪й ╪е┘Д┘Й ╪з┘Д╪╣┘Е┘Д┘К╪з╪к",
        "select_language": "╪з╪о╪к╪▒ ┘Д╪║╪к┘Г ╪з┘Д┘Е┘Б╪╢┘Д╪й:",
        "remember": "╪к╪░┘Г╪▒ ╪з╪о╪к┘К╪з╪▒┘К",
        "continue": "┘Е╪к╪з╪и╪╣╪й",
        "cancel": "╪е┘Д╪║╪з╪б",
        "Choose an Operation": "╪з╪о╪к╪▒ ╪╣┘Е┘Д┘К╪й ╪▒┘К╪з╪╢┘К╪й",
        "Enter your answer": "╪г╪п╪о┘Д ╪е╪м╪з╪и╪к┘Г",
        "Back to Menu": "╪з┘Д╪╣┘И╪п╪й ╪е┘Д┘Й ╪з┘Д┘В╪з╪ж┘Е╪й",
        "Answer": "╪е╪м╪з╪и╪й",
        "Question": "╪│╪д╪з┘Д",
        "Answer input": "╪е╪п╪о╪з┘Д ╪з┘Д╪е╪м╪з╪и╪й",
        "Type your answer as a number and press Enter.": "╪з┘Г╪к╪и ╪е╪м╪з╪и╪к┘Г ┘Г╪▒┘В┘Е ┘И╪з╪╢╪║╪╖ Enter."
    },
    "рд╕рдВрд╕реНрдХреГрдд": {
        "welcome": "рдЧрдгрд┐рддрд╢рд┐рдХреНрд╖рдХреЗ рд╕реНрд╡рд╛рдЧрддрдореН!",
        "ready": "рднрд╡рд╛рдиреН {lang} рднрд╛рд╖рд╛рдпрд╛рдВ рдЕрдзреНрдпрдпрдирд╛рдп рд╕рдЬреНрдЬрдГ рдЕрд╕реНрддрд┐ рд╡рд╛?",
        "Story": "рдХрдерд╛",
        "Time": "рд╕рдордпрдГ",
        "Currency": "рдореБрджреНрд░рд╛",
        "Distance": "рджреВрд░реА",
        "Bellring": "рдШрдгреНрдЯрд╛рдирд┐рдирд╛рджрдГ",
        "Operations": "рдЧрдгрд┐рддрдХреНрд░рд┐рдпрд╛рдГ",
        "Upload": "рдЕрдзрд░рдпрддреБ",
        "Help": "рд╕рд╛рд╣рд╛рдпреНрдпрдореН",
        "About": "рд╡рд┐рд╡рд░рдгрдореН",
        "Settings": "рд╕рдВрдпреЛрдЬрдирд╛рдирд┐",
        "Addition": "рдпреЛрдЧрдГ",
        "Subtraction": "рд╡рд┐рдпреЛрдЧрдГ",
        "Multiplication": "рдЧреБрдгрдирдореН",
        "Division": "рд╡рд┐рднрд╛рдЬрдирдореН",
        "Remainder": "рд╢реЗрд╖рдГ",
        "Percentage": "рдкреНрд░рддрд┐рд╢рддрдГ",
        "Back to Home": "рдореБрдЦрдкреГрд╖реНрдардВ рдкреНрд░рддреНрдпрд╛рдЧрдЪреНрдЫ",
        "Back to Operations": "рдЧрдгрд┐рддрдХреНрд░рд┐рдпрд╛рдГ рдкреНрд░рддреНрдпрд╛рдЧрдЪреНрдЫ",
        "select_language": "рднрд╡рддрдГ рдкреНрд░рд┐рдпрддрдорд╛ рднрд╛рд╖рд╛ рдЪрдпрдирдпрддреБ:",
        "remember": "рдордо рд╡рд┐рдХрд▓реНрдкрдВ рд╕реНрдорд░",
        "continue": "рдЕрдиреБрд╡рд░реНрддрд╕реНрд╡",
        "cancel": "рдирд┐рд░рд╕рдпрддреБ",
        "Choose an Operation": "рдПрдХрд╛рдВ рдЧрдгрд┐рддрдХреНрд░рд┐рдпрд╛рдореН рдЪрдпрдирдпрддреБ",
        "Enter your answer": "рд╕реНрд╡рдЙрддреНрддрд░рдВ рдкреНрд░рд╡рд┐рд╢реНрдпрддрд╛рдореН",
        "Back to Menu": "рдореЗрдиреВ рдкреНрд░рддреНрдпрд╛рдЧрдЪреНрдЫ",
        "Answer": "рдЙрддреНрддрд░рдореН",
        "Question": "рдкреНрд░рд╢реНрдирдГ",
        "Answer input": "рдЙрддреНрддрд░ рдирд┐рд╡реЗрд╢рдГ",
        "Type your answer as a number and press Enter.": "рд╕реНрд╡рдЙрддреНрддрд░рдВ рд╕рдВрдЦреНрдпрд╛рд░реВрдкреЗрдг рдЯрдЩреНрдХрдпрддреБ Enter рдЪ рдЕрдорд░реНрддреНрдпрддреБ."
    }
}

def tr(key):
    return translations.get(selected_language, translations["English"]).get(key, key)